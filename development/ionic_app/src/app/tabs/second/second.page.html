<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Fitness tracker</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="stravaAccess()">
        <ion-icon name="watch" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{currentAthlete.lastname}} {{currentAthlete.firstname}}</ion-card-title>
      <ion-card-subtitle>{{currentAthlete.country}}, {{currentAthlete.city}}, {{currentAthlete.state}}</ion-card-subtitle>
    </ion-card-header>
  </ion-card>

  <div style="margin: 0 0 0 15px; font-size: 10px;">
  <ion-segment [(ngModel)]="currentSegment" (ionChange)="segmentChanged($event)">
    <ion-segment-button value="this-year">
      <ion-label>This year</ion-label>
    </ion-segment-button>
    <ion-segment-button value="all-time">
      <ion-label>All time</ion-label>
    </ion-segment-button>
    <ion-list-header>
      <span style="margin-left: auto; margin-right: 35px">Run | Ride</span>
    </ion-list-header>
  </ion-segment>
  </div>

  <ion-list style="margin: 0 15px 0 0;" *ngIf="currentSegment === 'this-year'">
    <ion-item>
      <ion-label>Count</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._ytd_run_totals._count}} runs</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._ytd_ride_totals._count}} rides</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Distance</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._ytd_run_totals._distance}} km</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._ytd_ride_totals._distance}} km</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Moving time</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._ytd_run_totals._moving_time}} hours</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._ytd_ride_totals._moving_time}} hours</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Elevation gain</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._ytd_run_totals._elevation_gain}} m</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._ytd_ride_totals._elevation_gain}} m</ion-badge>
    </ion-item>
  </ion-list>

  <ion-list style="margin-right: 15px" *ngIf="currentSegment === 'all-time'">
    <ion-item>
      <ion-label>Count</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._all_run_totals._count}} runs</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._all_ride_totals._count}} rides</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Distance</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._all_run_totals._distance}} km</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._all_ride_totals._distance}} km</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Moving time</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._all_run_totals._moving_time}} hours</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._all_ride_totals._moving_time}} hours</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Elevation gain</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._all_run_totals._elevation_gain}} m</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._all_ride_totals._elevation_gain}} m</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Average speed</ion-label>
      <ion-badge color="secondary" style="margin-right: 5px">{{currentAthlete.stats._all_run_totals._distance / currentAthlete.stats._all_run_totals._moving_time | number}} km/h</ion-badge>
      <ion-badge color="secondary">{{currentAthlete.stats._all_ride_totals._distance / currentAthlete.stats._all_ride_totals._moving_time | number}} km/h</ion-badge>
    </ion-item>
  </ion-list>

  <ion-list style="margin-right: 15px" *ngIf="currentSegment === 'all-time'">
    <ion-item>
      <ion-label>Biggest climb elevation gain</ion-label>
      <ion-badge color="secondary">{{currentAthlete.stats._biggest_climb_elevation_gain}} m</ion-badge>
    </ion-item>
    <ion-item>
      <ion-label>Longest distance</ion-label>
      <ion-badge color="secondary">{{currentAthlete.stats._biggest_ride_distance}} km</ion-badge>
    </ion-item>
  </ion-list>

</ion-content>